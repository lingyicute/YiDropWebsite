import{_ as B}from"./DwrhQCvy.js";import{e as N,u as j,h as x,i as z,j as G,k as O,f as E,w as h,g as e,o as s,a as o,c as r,t as l,l as v,F as b,r as f,b as C,m as A,d as k,n as T}from"./BicOSPaJ.js";import{_ as I}from"./zdxM6WfO.js";import"./CA2mKn8Z.js";async function V(){return await fetch("https://api.github.com/repos/localsend/localsend/releases",{method:"GET",headers:{Accept:"application/vnd.github+json"}}).then(n=>{if(n.ok)return n.json().then(_=>_[0].assets)})}const W={class:"mt-8 flex flex-wrap justify-center dark:text-gray-300"},F={class:"text-center text-2xl dark:text-white"},P={key:0,class:"mt-4 grid grid-cols-12 gap-4 dark:text-gray-300"},q={key:0,class:"col-span-12 rounded-lg bg-gray-100 p-4 dark:bg-gray-800 md:col-span-4"},H={class:"text-xl font-bold dark:text-white"},K={class:"dark:text-gray-400"},X=["innerHTML"],Q={key:1,class:"col-span-12 rounded-lg bg-gray-100 p-4 dark:bg-gray-800 md:col-span-4"},Z={class:"text-xl font-bold dark:text-white"},J={class:"mb-4 dark:text-gray-400"},Y={class:"text-xl font-bold dark:text-white"},ee={class:"dark:text-gray-400"},ae={class:"dark:text-white"},te={class:"mt-2 rounded-lg bg-gray-200 p-2 text-sm dark:bg-gray-700 dark:text-gray-300"},se=["onClick"],oe={key:1,style:{height:"300px"}};var y=(m=>(m.windows="Windows",m.macos="macOS",m.linux="Linux",m.android="Android",m.ios="iOS",m))(y||{});const ne="https://github.com/localsend/localsend/releases",ce=N({__name:"download",setup(m){const{t:n,locale:_}=j();function S(){const t=navigator.userAgent,i=["Win","Macintosh","X11","Android","iP"].findIndex(a=>t.includes(a));return i!==-1?Object.values(y)[i]:"Windows"}const d=x(null),L=`<a href="https://apps.apple.com/us/app/localsend/id1661733229">
    <img alt="Download on the App Store" src="${new URL(""+new URL("apple-store-badge.CVyK0T4N.svg",import.meta.url).href,import.meta.url).href}" style="height: 64px">
</a>`,M={name:"Nix",commands:["nix-shell -p localsend","pkgs.localsend # Config"]},U=x({}),u=z(()=>{const t=c=>{const i=U.value[c];return i?_.value==="zh-CN"?`https://d.localsend.org/${i.split("/").pop()}`:i:ne};return{Windows:{stores:[],binaries:[{name:"EXE",url:t("exe")},{name:n("download.zip"),url:t("zip")}],packageManagers:[{name:"Winget",commands:["winget install localsend"]},{name:"Chocolatey",commands:["choco install localsend"]},{name:"Scoop",commands:["scoop bucket add extras","scoop install localsend"]}]},macOS:{stores:[L],binaries:[{name:"DMG",url:t("dmg")}],packageManagers:[{name:"Homebrew",commands:["brew install --cask localsend"]},M]},Linux:{stores:[],binaries:[{name:"TAR",url:t("gz")},{name:"DEB",url:t("deb")},{name:"AppImage",url:t("AppImage")}],packageManagers:[{name:"Flathub",commands:["flatpak install flathub org.localsend.localsend_app","flatpak run org.localsend.localsend_app"]},M,{name:"Snap",commands:["sudo snap install localsend"]},{name:"AUR",commands:["yay -S localsend-bin"]}]},Android:{stores:[`<a href='https://play.google.com/store/apps/details?id=org.localsend.localsend_app&pcampaignid=pcampaignidMKT-Other-global-all-co-prtnr-py-PartBadge-Mar2515-1'>
          <img alt='Get it on Google Play'
               src="${new URL(""+new URL("google-play-badge.DVbUjTfg.svg",import.meta.url).href,import.meta.url).href}"
               style="height: 60px"
          />
        </a>`,`<a href="https://f-droid.org/packages/org.localsend.localsend_app">
          <img alt="Get it on F-Droid" src="${new URL(""+new URL("f-droid-badge.C-ItOmIZ.svg",import.meta.url).href,import.meta.url).href}" style="height: 60px">
        </a>`,`<a href="https://www.amazon.com/dp/B0BW6MP732">
          <img alt="Get it on F-Droid" src="${new URL(""+new URL("amazon-store-badge.iE97Q5LU.svg",import.meta.url).href,import.meta.url).href}" style="height: 59px">
        </a>`],binaries:[{name:"APK",url:t("apk")}],packageManagers:[]},iOS:{stores:[L],binaries:[],packageManagers:[]}}}),R=G();function D(t){d.value=t,R.push({query:{os:t.toLowerCase()}})}const w=x(!1);function $(t){navigator.clipboard.writeText(t),w.value=!0,setTimeout(()=>w.value=!1,3e3)}return O(async()=>{var i;const t=(((i=R.currentRoute.value.query.os)==null?void 0:i.toString())??"").toLowerCase();d.value=Object.values(y).find(a=>a.toLowerCase()===t)??S();const c=await V();U.value=c.reduce((a,p)=>{const g=p.name.split(".").pop();return!g||g==="apk"&&!p.name.includes("arm64v8")||(a[g]=p.browser_download_url),a},{})}),(t,c)=>{const i=B;return s(),E(I,{"sub-title":e(n)("download.title")},{tabs:h(()=>[o("div",W,[(s(),r(b,null,f(y,a=>C(i,{key:a,class:"mx-2 mb-4",onClick:p=>D(a),dark:e(d)!==a},{default:h(()=>[k(l(a),1)]),_:2},1032,["onClick","dark"])),64))])]),content:h(()=>[o("h3",F,l(e(n)("download.subTitle",{os:e(d)})),1),e(d)?(s(),r("div",P,[e(u)[e(d)].stores.length!==0?(s(),r("div",q,[o("h3",H,l(e(n)("download.appStores")),1),o("p",K,l(e(n)("download.appStoresDescription")),1),(s(!0),r(b,null,f(e(u)[e(d)].stores,(a,p)=>(s(),r("div",{key:p,class:"mt-4"},[o("div",{innerHTML:a,class:"inline-block"},null,8,X)]))),128))])):v("",!0),e(u)[e(d)].binaries.length!==0?(s(),r("div",Q,[o("h3",Z,l(e(n)("download.binaries")),1),o("p",J,l(e(n)("download.binariesDescription")),1),(s(!0),r(b,null,f(e(u)[e(d)].binaries,a=>(s(),r("div",{key:a.name,class:"mt-2"},[C(A,{href:a.url,icon:"material-symbols:download",class:"dark:text-gray-300"},{default:h(()=>[k(l(a.name),1)]),_:2},1032,["href"])]))),128)),C(A,{href:"https://github.com/localsend/localsend/releases",icon:"material-symbols:history",class:"mt-2 dark:text-gray-300"},{default:h(()=>[k(l(e(n)("download.allReleases")),1)]),_:1})])):v("",!0),e(u)[e(d)].packageManagers.length!==0?(s(),r("div",{key:2,class:T(["col-span-12 rounded-lg bg-gray-100 p-4 dark:bg-gray-800",e(u)[e(d)].stores.length!==0?"md:col-span-4":"md:col-span-8"])},[o("h3",Y,l(e(n)("download.packageManagers")),1),o("p",ee,l(e(n)("download.packageManagersDescription")),1),(s(!0),r(b,null,f(e(u)[e(d)].packageManagers,a=>(s(),r("div",{key:a.name,class:"mt-4"},[o("b",ae,l(a.name)+":",1),o("div",te,[o("code",null,[(s(!0),r(b,null,f(a.commands,(p,g)=>(s(),r("span",{key:g,class:"cursor-pointer hover:bg-gray-300 dark:hover:bg-gray-600",onClick:()=>$(p)},[c[0]||(c[0]=o("span",{class:"text-gray-400 dark:text-gray-500 select-none"}," $ ",-1)),k(l(p),1),c[1]||(c[1]=o("br",null,null,-1))],8,se))),128))])])]))),128))],2)):v("",!0)])):(s(),r("div",oe)),o("div",{class:T(["absolute bottom-12 left-1/2 -translate-x-1/2 transform rounded-lg bg-teal-950 px-4 py-2 text-white transition-opacity",e(w)?"opacity-100":"hidden"])},l(e(n)("download.copiedToClipboard")),3)]),_:1},8,["sub-title"])}}});export{ce as default};
