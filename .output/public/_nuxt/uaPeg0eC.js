import{_ as $}from"./BYQ4GkoT.js";import{f as j,u as G,r as v,h as O,i as z,j as E,o as t,g as I,w as b,a as s,c as n,k as y,F as k,t as r,l as e,m as L,b as C,d as f,n as T,p as U}from"./DRrAf1xa.js";import{_ as N}from"./CJnO17zu.js";import"./Dve0eZIh.js";async function V(){return await fetch("https://api.github.com/repos/localsend/localsend/releases",{method:"GET",headers:{Accept:"application/vnd.github+json"}}).then(o=>{if(o.ok)return o.json().then(w=>w[0].assets)})}const W={class:"mt-8 flex flex-wrap justify-center dark:text-gray-300"},F={class:"text-center text-2xl dark:text-white"},P={key:0,class:"mt-4 grid grid-cols-12 gap-4 dark:text-gray-300"},q={key:0,class:"col-span-12 rounded-lg bg-gray-100 p-4 dark:bg-gray-800 md:col-span-4"},H={class:"text-xl font-bold dark:text-white"},K={class:"dark:text-gray-400"},X=["innerHTML"],Q={key:1,class:"col-span-12 rounded-lg bg-gray-100 p-4 dark:bg-gray-800 md:col-span-4"},Z={class:"text-xl font-bold dark:text-white"},J={class:"mb-4 dark:text-gray-400"},Y={class:"text-xl font-bold dark:text-white"},ee={class:"dark:text-gray-400"},ae={class:"dark:text-white"},te={class:"mt-2 rounded-lg bg-gray-200 p-2 text-sm dark:bg-gray-700 dark:text-gray-300"},se=["onClick"],oe={key:1,style:{height:"300px"}};var _=(p=>(p.windows="Windows",p.macos="macOS",p.linux="Linux",p.android="Android",p.ios="iOS",p))(_||{});const h="https://github.com/lingyicute/yidrop/releases",de=j({__name:"download",setup(p){const{t:o}=G();function w(){const d=navigator.userAgent,i=["Win","Macintosh","X11","Android","iP"].findIndex(a=>d.includes(a));return i!==-1?Object.values(_)[i]:"Windows"}const l=v(null),M=`<a href="https://apps.apple.com/us/app/localsend/id1661733229">
    <img alt="Download on the App Store" src="${new URL(""+new URL("apple-store-badge.CVyK0T4N.svg",import.meta.url).href,import.meta.url).href}" style="height: 64px">
</a>`,R={name:"Nix",commands:["nix-shell -p localsend","pkgs.localsend # Config"]},u=v({}),m=O(()=>({Windows:{stores:[],binaries:[{name:"EXE",url:u.value.exe??h},{name:o("download.zip"),url:u.value.zip??h}],packageManagers:[{name:"Winget",commands:["winget install localsend"]},{name:"Chocolatey",commands:["choco install localsend"]},{name:"Scoop",commands:["scoop bucket add extras","scoop install localsend"]}]},macOS:{stores:[M],binaries:[{name:"DMG",url:u.value.dmg??h}],packageManagers:[{name:"Homebrew",commands:["brew install --cask localsend"]},R]},Linux:{stores:[],binaries:[{name:"TAR",url:u.value.gz??h},{name:"DEB",url:u.value.deb??h},{name:"AppImage",url:u.value.AppImage??h}],packageManagers:[{name:"Flathub",commands:["flatpak install flathub org.localsend.localsend_app","flatpak run org.localsend.localsend_app"]},R,{name:"Snap",commands:["sudo snap install localsend"]},{name:"AUR",commands:["yay -S localsend-bin"]}]},Android:{stores:[`<a href='https://play.google.com/store/apps/details?id=org.localsend.localsend_app&pcampaignid=pcampaignidMKT-Other-global-all-co-prtnr-py-PartBadge-Mar2515-1'>
          <img alt='Get it on Google Play'
               src="${new URL(""+new URL("google-play-badge.DVbUjTfg.svg",import.meta.url).href,import.meta.url).href}"
               style="height: 60px"
          />
        </a>`,`<a href="https://f-droid.org/packages/org.localsend.localsend_app">
          <img alt="Get it on F-Droid" src="${new URL(""+new URL("f-droid-badge.C-ItOmIZ.svg",import.meta.url).href,import.meta.url).href}" style="height: 60px">
        </a>`,`<a href="https://www.amazon.com/dp/B0BW6MP732">
          <img alt="Get it on F-Droid" src="${new URL(""+new URL("amazon-store-badge.iE97Q5LU.svg",import.meta.url).href,import.meta.url).href}" style="height: 59px">
        </a>`],binaries:[{name:"APK",url:u.value.apk??h}],packageManagers:[]},iOS:{stores:[M],binaries:[],packageManagers:[]}})),A=z();function S(d){l.value=d,A.push({query:{os:d.toLowerCase()}})}const x=v(!1);function D(d){navigator.clipboard.writeText(d),x.value=!0,setTimeout(()=>x.value=!1,3e3)}return E(async()=>{const d=(A.currentRoute.value.query.os??"").toLowerCase();l.value=Object.values(_).find(i=>i.toLowerCase()===d)??w();const g=await V();u.value=g.reduce((i,a)=>{const c=a.name.split(".").pop();return!c||c==="apk"&&!a.name.includes("arm64v8")||(i[c]=a.browser_download_url),i},{})}),(d,g)=>{const i=$;return t(),I(N,{"sub-title":e(o)("download.title")},{tabs:b(()=>[s("div",W,[(t(),n(k,null,y(_,a=>C(i,{key:a,class:"mx-2 mb-4",onClick:c=>S(a),dark:e(l)!==a},{default:b(()=>[f(r(a),1)]),_:2},1032,["onClick","dark"])),64))])]),content:b(()=>[s("h3",F,r(e(o)("download.subTitle",{os:e(l)})),1),e(l)?(t(),n("div",P,[e(m)[e(l)].stores.length!==0?(t(),n("div",q,[s("h3",H,r(e(o)("download.appStores")),1),s("p",K,r(e(o)("download.appStoresDescription")),1),(t(!0),n(k,null,y(e(m)[e(l)].stores,(a,c)=>(t(),n("div",{key:c,class:"mt-4"},[s("div",{innerHTML:a,class:"inline-block"},null,8,X)]))),128))])):L("",!0),e(m)[e(l)].binaries.length!==0?(t(),n("div",Q,[s("h3",Z,r(e(o)("download.binaries")),1),s("p",J,r(e(o)("download.binariesDescription")),1),(t(!0),n(k,null,y(e(m)[e(l)].binaries,a=>(t(),n("div",{key:a.name,class:"mt-2"},[C(T,{href:a.url,icon:"material-symbols:download",class:"dark:text-gray-300"},{default:b(()=>[f(r(a.name),1)]),_:2},1032,["href"])]))),128)),C(T,{href:"https://github.com/lingyicute/yidrop/releases",icon:"material-symbols:history",class:"mt-2 dark:text-gray-300"},{default:b(()=>[f(r(e(o)("download.allReleases")),1)]),_:1})])):L("",!0),e(m)[e(l)].packageManagers.length!==0?(t(),n("div",{key:2,class:U(["col-span-12 rounded-lg bg-gray-100 p-4 dark:bg-gray-800",e(m)[e(l)].stores.length!==0?"md:col-span-4":"md:col-span-8"])},[s("h3",Y,r(e(o)("download.packageManagers")),1),s("p",ee,r(e(o)("download.packageManagersDescription")),1),(t(!0),n(k,null,y(e(m)[e(l)].packageManagers,a=>(t(),n("div",{key:a.name,class:"mt-4"},[s("b",ae,r(a.name)+":",1),s("div",te,[s("code",null,[(t(!0),n(k,null,y(a.commands,(c,B)=>(t(),n("span",{key:B,class:"cursor-pointer hover:bg-gray-300 dark:hover:bg-gray-600",onClick:()=>D(c)},[g[0]||(g[0]=s("span",{class:"text-gray-400 dark:text-gray-500 select-none"}," $ ",-1)),f(r(c),1),g[1]||(g[1]=s("br",null,null,-1))],8,se))),128))])])]))),128))],2)):L("",!0)])):(t(),n("div",oe)),s("div",{class:U(["absolute bottom-12 left-1/2 -translate-x-1/2 transform rounded-lg bg-teal-950 px-4 py-2 text-white transition-opacity",e(x)?"opacity-100":"hidden"])},r(e(o)("download.copiedToClipboard")),3)]),_:1},8,["sub-title"])}}});export{de as default};
